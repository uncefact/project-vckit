"use strict";(self.webpackChunkvckit_documentation=self.webpackChunkvckit_documentation||[]).push([[6604],{6961:(e,n,i)=>{i.d(n,{Ay:()=>d});var t=i(4848),s=i(8453);function r(e){const n={admonition:"admonition",p:"p",...(0,s.R)(),...e.components};return(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"Please note that this content is under development and is not ready for implementation. This status message will be updated as content development progresses."})})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(r,{...e})}):r(e)}},5036:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>f,frontMatter:()=>d,metadata:()=>c,toc:()=>l});var t=i(4848),s=i(8453),r=i(6961);const d={sidebar_label:"Basic Operations",sidebar_position:3},a="Basic Operations",c={id:"get-started/library-get-started/basic-operations",title:"Basic Operations",description:"Create Identifier",source:"@site/versioned_docs/version-1.0.0/get-started/library-get-started/basic-operations.md",sourceDirName:"get-started/library-get-started",slug:"/get-started/library-get-started/basic-operations",permalink:"/project-vckit/docs/get-started/library-get-started/basic-operations",draft:!1,unlisted:!1,editUrl:"https://github.com/uncefact/project-vckit/tree/main/versioned_docs/version-1.0.0/get-started/library-get-started/basic-operations.md",tags:[],version:"1.0.0",sidebarPosition:3,frontMatter:{sidebar_label:"Basic Operations",sidebar_position:3},sidebar:"getStartedSideBar",previous:{title:"Set Up",permalink:"/project-vckit/docs/get-started/library-get-started/setup"},next:{title:"Agent Configuration",permalink:"/project-vckit/docs/category/agent-configuration"}},o={},l=[{value:"Create Identifier",id:"create-identifier",level:2},{value:"Get the list of indentifiers",id:"get-the-list-of-indentifiers",level:2},{value:"Create a VC",id:"create-a-vc",level:2},{value:"Verify a VC",id:"verify-a-vc",level:2},{value:"Using VCkit renderer",id:"using-vckit-renderer",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"basic-operations",children:"Basic Operations"}),"\n",(0,t.jsx)(r.Ay,{}),"\n",(0,t.jsx)(n.h2,{id:"create-identifier",children:"Create Identifier"}),"\n",(0,t.jsxs)(n.p,{children:["Create a new file in ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"src/create-identifier.ts"})}),", and add the following code."]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["In this guide we use ",(0,t.jsxs)(n.strong,{children:["did",":web"]})," as the did method, you can use other method by declaring the provider as the parameter of didManagerCreate function"]})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["To have your own a ",(0,t.jsxs)(n.strong,{children:["did",":web"]}),", you can follow this ",(0,t.jsx)(n.a,{href:"/docs/get-started/demo-explorer-get-started/basic-operations#create-an-identifier",children:"instruction"})]})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { agent } from './vckit/setup.js'\n\nasync function main() {\n  const identifier = await agent.didManagerCreate({ alias: 'epic-lionfish-distinctly.ngrok-free.app', provider: 'did:web', options:{keyType:'Ed25519'}})\n  console.log(`New identifier created`)\n  console.log(JSON.stringify(identifier, null, 2))\n}\n\nmain().catch(console.log)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Run this command to create identifier"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"node --loader ts-node/esm ./src/create-identifier.ts  \n"})}),"\n",(0,t.jsx)(n.p,{children:"Expected result"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'New identifier created\n{\n  "did": "did:web:epic-lionfish-distinctly.ngrok-free.app",\n  "controllerKeyId": "d71a03cc1d38afa68487f69245d1943c484b83fd642f810431b40a13a3566e96",\n  "keys": [\n    {\n      "type": "Ed25519",\n      "kid": "d71a03cc1d38afa68487f69245d1943c484b83fd642f810431b40a13a3566e96",\n      "publicKeyHex": "d71a03cc1d38afa68487f69245d1943c484b83fd642f810431b40a13a3566e96",\n      "meta": {\n        "algorithms": [\n          "EdDSA",\n          "Ed25519"\n        ]\n      },\n      "kms": "local"\n    }\n  ],\n  "services": [],\n  "provider": "did:web",\n  "alias": "epic-lionfish-distinctly.ngrok-free.app"\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"get-the-list-of-indentifiers",children:"Get the list of indentifiers"}),"\n",(0,t.jsxs)(n.p,{children:["Create a new file in ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"src/list-indentifiers.ts"})}),", and add the following code."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { agent } from './vckit/setup.js'\n\nasync function main() {\n  const identifiers = await agent.didManagerFind()\n\n  console.log(`There are ${identifiers.length} identifiers`)\n\n  if (identifiers.length > 0) {\n    identifiers.map((id) => {\n      console.log(id)\n      console.log('..................')\n    })\n  }\n}\n\nmain().catch(console.log)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Run this command to get list of identifiers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"node --loader ts-node/esm ./src/list-identifiers.ts  \n"})}),"\n",(0,t.jsx)(n.p,{children:"Expected result"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"There are 1 identifiers\nIdentifier {\n  did: 'did:web:epic-lionfish-distinctly.ngrok-free.app',\n  provider: 'did:web',\n  alias: 'epic-lionfish-distinctly.ngrok-free.app',\n  saveDate: undefined,\n  updateDate: undefined,\n  controllerKeyId: '3e051abb181225f85f7f81fb28d8de1f6272f4a8e16af38ce2c6ccafdf6b5a27',\n  keys: [\n    Key {\n      kid: '3e051abb181225f85f7f81fb28d8de1f6272f4a8e16af38ce2c6ccafdf6b5a27',\n      kms: 'local',\n      type: 'Ed25519',\n      publicKeyHex: '3e051abb181225f85f7f81fb28d8de1f6272f4a8e16af38ce2c6ccafdf6b5a27',\n      meta: [Object],\n      identifier: undefined\n    }\n  ],\n  services: [],\n  sentMessages: undefined,\n  receivedMessages: undefined,\n  issuedPresentations: undefined,\n  receivedPresentations: undefined,\n  issuedCredentials: undefined,\n  receivedCredentials: undefined,\n  issuedClaims: undefined,\n  receivedClaims: undefined\n}\n..................\n"})}),"\n",(0,t.jsx)(n.h2,{id:"create-a-vc",children:"Create a VC"}),"\n",(0,t.jsxs)(n.p,{children:["Create a new file in ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"src/create-credential.ts"})}),", add the following code."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { agent } from './vckit/setup.js'\n\nasync function main() {\n  const identifier = await agent.didManagerGetByAlias({ alias: 'epic-lionfish-distinctly.ngrok-free.app' })\n  const verifiableCredential = await agent.createVerifiableCredential({\n    credential: {\n      issuer: { id: identifier.did },\n      credentialSubject: {\n        id: 'did:web:example.com',\n        you: 'Rock!!!',\n      },\n    },\n    proofFormat: 'jwt',\n  })\n  \n  console.log(JSON.stringify(verifiableCredential, null, 2))\n}\n\nmain().catch(console.log)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Run this command to create VC"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"node --loader ts-node/esm ./src/create-credential.ts  \n"})}),"\n",(0,t.jsx)(n.p,{children:"Expected result"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'{\n  "credentialSubject": {\n    "you": "Rock!!!",\n    "id": "did:web:example.com"\n  },\n  "issuer": {\n    "id": "did:web:epic-lionfish-distinctly.ngrok-free.app"\n  },\n  "type": [\n    "VerifiableCredential"\n  ],\n  "@context": [\n    "https://www.w3.org/2018/credentials/v1"\n  ],\n  "issuanceDate": "2024-04-23T06:04:03.000Z",\n  "proof": {\n    "type": "JwtProof2020",\n    "jwt": "eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9.eyJ2YyI6eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvMjAxOC9jcmVkZW50aWFscy92MSJdLCJ0eXBlIjpbIlZlcmlmaWFibGVDcmVkZW50aWFsIl0sImNyZWRlbnRpYWxTdWJqZWN0Ijp7InlvdSI6IlJvY2shISEifX0sInN1YiI6ImRpZDp3ZWI6ZXhhbXBsZS5jb20iLCJuYmYiOjE3MTM4NTIyNDMsImlzcyI6ImRpZDp3ZWI6ZXBpYy1saW9uZmlzaC1kaXN0aW5jdGx5Lm5ncm9rLWZyZWUuYXBwIn0.xBcTTeHbIHgq3r-2BPSP3UdtI4lw37Su54Z1TPxV4rRG775wfRa2kLltrFbsZClDvcrnvQRwqv7pOFnfxj5vCg"\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"verify-a-vc",children:"Verify a VC"}),"\n",(0,t.jsxs)(n.p,{children:["Create a new file in ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"src/verify-credential.ts"})}),", and add the following code."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { agent } from './vckit/setup.js'\n\nasync function main() {\n  const result = await agent.verifyCredential({\n    credential: {\n        //the content of the credential you just issued\n      credentialSubject: {\n        you: 'Rock!!!',\n        id: 'did:web:example.com',\n      },\n      issuer: {\n        id: 'did:web:epic-lionfish-distinctly.ngrok-free.app', //id of issuer you created\n      },\n      type: ['VerifiableCredential'],\n      '@context': ['https://www.w3.org/2018/credentials/v1'],\n      issuanceDate: '2024-04-23T06:04:03.000Z', //replace this by the issuanceDate of the VC that you just issued\n      proof: {\n        type: 'JwtProof2020',\n        jwt: 'eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9.eyJ2YyI6eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvMjAxOC9jcmVkZW50aWFscy92MSJdLCJ0eXBlIjpbIlZlcmlmaWFibGVDcmVkZW50aWFsIl0sImNyZWRlbnRpYWxTdWJqZWN0Ijp7InlvdSI6IlJvY2shISEifX0sInN1YiI6ImRpZDp3ZWI6ZXhhbXBsZS5jb20iLCJuYmYiOjE3MTM4NTIyNDMsImlzcyI6ImRpZDp3ZWI6ZXBpYy1saW9uZmlzaC1kaXN0aW5jdGx5Lm5ncm9rLWZyZWUuYXBwIn0.xBcTTeHbIHgq3r-2BPSP3UdtI4lw37Su54Z1TPxV4rRG775wfRa2kLltrFbsZClDvcrnvQRwqv7pOFnfxj5vCg', //replace this by the jwt in the proof of the VC that you just issued\n      },\n    },\n  })\n  console.log(`Credential verified`, result.verified)\n}\n\nmain().catch(console.log)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Run this command to verify VC"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"node --loader ts-node/esm ./src/verify-credential.ts  \n"})}),"\n",(0,t.jsx)(n.h2,{id:"using-vckit-renderer",children:"Using VCkit renderer"}),"\n",(0,t.jsxs)(n.p,{children:["Create a new file in ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"src/render-credential.ts"})}),", and add the following code."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { agent } from './vckit/setup.js'\nimport { Buffer } from 'buffer'\nasync function main() {\n    const params = {\n        credential: {\n          credentialSubject: {\n            you: 'Rock!!!',\n            id: 'did:web:example.com',\n          },\n          issuer: {\n            id: 'did:web:epic-lionfish-distinctly.ngrok-free.app',\n          },\n          type: ['VerifiableCredential'],\n          '@context': ['https://www.w3.org/2018/credentials/v1','https://vckit-contexts.s3.ap-southeast-2.amazonaws.com/dev-render-method-context.json'],\n          issuanceDate: '2024-04-02T04:34:06.000Z',\n          render: [\n            {\n              \"template\": \"<div style=\\\"width:300px; height:100px; border: 2px solid black; text-align:center\\\">\\n  <div>\\n    This {{credentialSubject.degree.name}} is conferred to\\n  </div>\\n  <strong style=\\\"font-size: 16px\\\">\\n    {{credentialSubject.name}}\\n  </strong>\\n  <div>\\n    by {{credentialSubject.degree.degreeSchool}}.\\n  </div>\\n</div>\",\n              \"@type\": \"WebRenderingTemplate2022\"\n            }\n          ],\n          proof: {\n            type: 'JwtProof2020',\n            jwt: 'eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9.eyJ2YyI6eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvMjAxOC9jcmVkZW50aWFscy92MSJdLCJ0eXBlIjpbIlZlcmlmaWFibGVDcmVkZW50aWFsIl0sImNyZWRlbnRpYWxTdWJqZWN0Ijp7InlvdSI6IlJvY2shISEifX0sInN1YiI6ImRpZDp3ZWI6ZXhhbXBsZS5jb20iLCJuYmYiOjE3MTM4NTIyNDMsImlzcyI6ImRpZDp3ZWI6ZXBpYy1saW9uZmlzaC1kaXN0aW5jdGx5Lm5ncm9rLWZyZWUuYXBwIn0.xBcTTeHbIHgq3r-2BPSP3UdtI4lw37Su54Z1TPxV4rRG775wfRa2kLltrFbsZClDvcrnvQRwqv7pOFnfxj5vCg',\n          },\n        },\n      }\n    const result = await agent.renderCredential(params)\n    const htmlResult = Buffer.from(result.documents[0], 'base64').toString('utf8')\n    console.log(htmlResult);\n\n}\nmain().catch(console.log)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Run this command to render VC"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"node --loader ts-node/esm ./src/render-credential.ts \n"})})]})}function f(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>a});var t=i(6540);const s={},r=t.createContext(s);function d(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);